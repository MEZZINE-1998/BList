node {
   stage('Get Source from Github') {
      // copy source code from local file system and test
      // for a Dockerfile to build the Docker image
      git ('https://github.com/MEZZINE-1998/BList.git')
      if (!fileExists("dockerfile")) {
         error('dockerfile missing.')
      }
   }
   stage('Build Docker image') {
       // build the docker image from the source code using the BUILD_ID parameter in image name
         sh "docker build -t flask-app:v1 ."
   }
   stage("Deploy the App on minikube-K8S"){
        sh "kubectl apply -f k8sfile.yaml"
   }
}
