node {
   stage('Get Source from Github') {
      // copy source code from local file system and test
      // for a Dockerfile to build the Docker image
      git ('https://github.com/MEZZINE-1998/Flask-web-app-IHM-with-CI-CD-pipeline-.git')
      if (!fileExists("dockerfile")) {
         error('dockerfile missing.')
      }
   }

   
   stage("Deploy the App on minikube-K8S"){
        sh 'sudo kubectl apply -f k8sfile.yaml'
   }
}
